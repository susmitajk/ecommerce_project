{% extends 'admin_panel/admin_base.html' %}
{% load static %}
{% block content %}
        <section class="content-main">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                    <div class="row">
                        <div class="col-9">
                            <div class="content-header">
                                <h2 class="content-title">Edit Product</h2>
                                <div>
                                        <button class="btn btn-md rounded font-sm hover-up">Save Changes</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="card mb-4">
                                <div class="card-body">
                                    <div class="mb-4">
                                        <label for="{{ form.product_name.id_for_label }}" class="form-label">Product Name</label>
                                        {{ form.product_name }}
                                    </div>
                                    <div class="mb-4">
                                        <label for="{{ form.slug.id_for_label }}" class="form-label">Product slug</label>
                                        {{ form.slug }}
                                    </div>
                                   
                                    <div class="row gx-3">
                                        <div class="col-md-4  mb-3">
                                             <label for="{{ form.category.id_for_label }}" class="form-label">Category</label>
                                        {{ form.category }}
                                        </div>
                                        <div class="col-md-4  mb-3">
                                             <label for="{{ form.brand.id_for_label }}" class="form-label">Brand</label>
                                        {{ form.brand }}
                                        </div>
                                        <div class="col-md-4  mb-3">
                                            <label for="{{ form.liquor_type.id_for_label }}" class="form-label">Liquor Type</label>
                                        {{ form.liquor_type }}
                                        </div>
                                    </div> 
                                    <!-- <div class="mb-4">
                                        <label for="product_brand" class="form-label">Brand</label>
                                        <input type="text" placeholder="Type here" class="form-control" id="product_brand">
                                    </div> -->
                                </div>
                            </div> <!-- card end// -->
                            <div class="card mb-4">
                                <div class="card-body">
                                    <div>
                                        <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
                                        {{ form.description }}
                                    </div>
                                </div>
                            </div> <!-- card end// -->
                            <div class="card mb-4">
                                <div class="card-body">
                                    <div>
                                        <label for="{{ form.image.id_for_label }}" class="form-label">Images</label>
                                        {{ form.image }}
                                    </div>
                                </div>
                            </div> <!-- card end// -->
                        </div>
                        
                    </div>
            </form>
        </section>
        <!-- 
            To provide a dynamic user experience where users can see the slug being generated in real-time 
            as they type the product name
        -->
        
{% endblock %}
{% block scripts %}
        {% comment %} <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script> {% endcomment %}
        <script>
            $(document).ready(function () {
                // Function to generate slug from product name
                function generateSlug(value) {
                    return value.toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]+/g, '');
                }
            
                // Listen for input changes in the product name field
                $('#id_product_name').on('input', function () {
                    // Get the value of the product name field
                    var productName = $(this).val();
            
                    // Generate the slug
                    var slug = generateSlug(productName);
            
                    // Update the slug field
                    $('#id_slug').val(slug);
                });
            });
            
        </script>
{% endblock scripts %}
